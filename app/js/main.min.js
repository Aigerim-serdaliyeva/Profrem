function validateEmail(e){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}function checkInput(e){return!(!e.val()||"email"==e.attr("type")&&!validateEmail(e.val()))&&(e.removeClass("error"),!0)}function parseGET(e){var t=["utm_source","utm_medium","utm_campaign","utm_term","utm_content"];if(e&&""!=e||(e=decodeURI(document.location.search)),e.indexOf("?")<0)return Array();var i={},n=[],s=[];-1!=(e=(e=e.split("?"))[1]).indexOf("#")&&(e=e.substr(0,e.indexOf("#"))),e.indexOf("&")>-1?n=e.split("&"):n[0]=e;for(var o=0;o<n.length;o++)for(var a=0;a<t.length;a++)n[o].indexOf(t[a]+"=")>-1&&n[o].indexOf("=")>-1&&(i[(s=n[o].split("="))[0]]=s[1]);return i}$(document).ready(function(){var e=$(window),t=$(".page-top"),i=$("html, body"),n=$(".header"),s=$(".main-menu"),o=0,a=$(".hamburger"),r=parseGET();r&&Object.keys(r).length>0?window.sessionStorage.setItem("utms",JSON.stringify(r)):r=JSON.parse(window.sessionStorage.getItem("utms")||"[]"),e.width()<992&&(o=89),e.width()>479&&$("input[type=tel]").mask("+7 (999) 999 99 99",{completed:function(){$(this).removeClass("error")}}),e.scroll(function(){l()});var l=function(){e.scrollTop()>e.height()?t.addClass("active"):t.removeClass("active"),e.scrollTop()>0?n.addClass("header--scrolled"):n.removeClass("header--scrolled");var i=e.scrollTop()+o;s.find(".link").each(function(){var e=$(this),t=e.find("a").attr("href");if(t.length>1&&"#"==t.charAt(0)&&$(t).length>0){var n=$(t),s=n.offset().top;s<=i&&s+n.height()>=i?e.addClass("active"):e.removeClass("active")}})};l();var c;c=$(".page-top").offset().top,$(window).scroll(function(){var e=$(window).scrollTop();c<e?$(".page-top").css("position","fixed"):$(".page-top").css("position","absolute")}),$(".link a").click(function(t){var n=$(this).attr("href");if(n.length>1&&"#"==n.charAt(0)&&$(n).length>0){t.preventDefault();var s=$(n).offset().top-o;i.stop().animate({scrollTop:s},"slow","swing")}e.width()<=991&&d()}),t.click(function(){i.stop().animate({scrollTop:0},"slow","swing")});function d(){$this=a,$this.hasClass("is-active")?($this.removeClass("is-active"),s.slideUp("700")):($this.addClass("is-active"),s.slideDown("700"))}$(".gallery").mouseenter(function(){const e=$(this).find(".gallery__block");if(!e||!e.length)return;const t=$(".gallery").height(),i=e.height();if(i>t){const n=i-t,s=n- -e.position().top;e.stop().animate({top:-n},8*s)}}),$(".gallery").mouseleave(function(){const e=$(this).find(".gallery__img__content");if(!e||!e.length)return;const t=0-e.position().top;e.stop().animate({top:0},8*t)}),$("input:required, textarea:required").keyup(function(){var e=$(this);"tel"!=e.attr("type")&&checkInput(e)}),a.click(function(){return d(),!1}),$(document).on("closing",".remodal",function(e){$(this).find(".input, .textarea").removeClass("error");var t=$(this).find("form");t.length>0&&t[0].reset()}),$(".ajax-submit").click(function(e){var t=$(this).closest("form"),i=t.find(":required"),n=!0;if(i.each(function(){$elem=$(this),$elem.val()&&checkInput($elem)||($elem.addClass("error"),n=!1)}),n)for(var s in 0===Object.keys(r).length&&(r.utm="Прямой переход"),r){var o=document.createElement("input");o.type="hidden",o.name=s,o.value=r[s],t[0].appendChild(o)}else e.preventDefault()}),$(".reviews-slider").slick({dots:!0,infinite:!0,speed:500,slidesToShow:1,slidesToScroll:1,autoplay:!1,autoplaySpeed:2e3,arrows:!0})});